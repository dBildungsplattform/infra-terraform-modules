resource "ionoscloud_datacenter" "example" {
    name                    = "Datacenter Example"
    location                = "us/las"
    description             = "Datacenter Description"
    sec_auth_protection     = false
}

resource "ionoscloud_lan" "example1" {
    datacenter_id           = ionoscloud_datacenter.example.id
    public                  = false
    name                    = "Lan Example 1"
}

resource "ionoscloud_lan" "example2" {
    datacenter_id           = ionoscloud_datacenter.example.id
    public                  = false
    name                    = "Lan Example 2"
}

resource "ionoscloud_networkloadbalancer" "example" {
    datacenter_id           = ionoscloud_datacenter.example.id
    name                    = "example"
    listener_lan            = ionoscloud_lan.example1.id
    target_lan              = ionoscloud_lan.example2.id
    ips                     = ["10.12.118.224"]
    lb_private_ips          = ["10.13.72.225/24"]
}
resource "ionoscloud_networkloadbalancer_forwardingrule" "example" {
    datacenter_id               = ionoscloud_datacenter.example.id
    networkloadbalancer_id      = ionoscloud_networkloadbalancer.example.id
    name                        = "example"
    algorithm                   = "SOURCE_IP"
    protocol                    = "TCP"
    listener_ip                 = "10.12.118.224"
    listener_port               = "8081"
    targets {
        ip                      = "22.231.2.2"
        port                    = "8080"
        weight                  = "123"
        health_check {
             check              = true
             check_interval     = 1000
        }
    }
}